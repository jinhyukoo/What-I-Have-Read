## 직교성

그래프에서 수직으로 교차하는 두 직선을 직교한다고 말한다. 벡터의 입장에서 보면 두 개의 선은 `독립적`이다.

프로그래밍의 입장에서 보면 `독립성` 또는 `결합도 줄이기`로 볼 수 있다.

### 비직교적인 시스템

헬리콥터를 타다 조종사가 쓰러지는 사고가 발생했다. 상황을 해결하기 위해 위 또는 아래로 당길 수 있는 레버를 발견하게 되고 하강하기 위해 레버를 아래로 당긴다.

하지만 기대와는 달리 헬리콥터의 기수는 밑으로 떨어지고 왼쪽으로 뱅뱅 돌며 낙하하기 시작한다. 이를 해결하기 위해선 또다른 행동을 해야 할 것이다.

어떤 결과를 만들기 위해 여러 동작을 수행해야 하는 경우이다.

얼핏봐도 좋은 상황같진 않다.

### 직교성의 장점

#### 생산성 향상
- 변화가 국소화 되어 개발 시간과 테스트 시간이 줄어든다.
- 재사용성이 높아진다.
- 재사용이 높아지기 때문에 이를 조합하여 새로운 무언가를 만들어 낼 수 있다.

#### 리스크 감소
- 특정 부분을 수정했을 때 다른 곳에서 사이드 이펙트가 발생하지 않는다.
- 시스템이 잘 망가지지 않는다.
- 직교적인 시스템은 각 컴포넌트에 대해 테스트를 수행하기 때문에 테스트 커버리지가 높아진다.
- 써드파티 컴포넌트로 연결되는 인터페이스들이 전체 개발의 일부분에만 해당하기 떄문에 특정 벤더, 제품, 플랫폼에 덜 종속된다.
    - 의존성이 낮아진다고 해석할 수 있지 않을까 싶다.

### 직교성이 적용될 수 있는 곳은?

#### 프로젝트 팀
각자의 역할을 잘 분리해낸다면 보다 효율적인 작업을 할 수 있다.

프로젝트 팀의 직교성을 테스트해보고 싶다면 특정 변화에 대해 토론을 해보자.

토론에 참여해야 할 인원이 적을수록 직교성이 잘 지켜지고 있다고 볼 수 있다.

(물론 지속적인 커뮤니케이션은 항상 중요하다 ^^*)

#### 설계

대부분의 개발자는 설계를 직교적으로 해야 한다는 것을 잘 안다.

흔히 부르는 모듈, 컴포넌트, 레이어 등은 모두 직교성을 높이기 위한 설계 방법이다.

시스템은 협력하는 모듈의 집합으로 구성되어야 하며 각 모듈은 다른 부분과 독립적인 기능을 수행해야 한다.

직교적인 설계를 테스트 해보고 싶다면 다음과 같은 질문을 던져보자.

'특정 기능에 대한 요구사항을 극적으로 변경했을 경우, 몇 개의 모듈이 영향을 받는다?'

직교적인 시스템이라면 정답은 `하나`가 될 것이다.

#### 툴킷과 라이브러리

써드파티 툴킷이나 라이브러리를 도입할 때 시스템의 직교성이 보장되는지 먼저 살펴보자.

#### 코딩

코딩에서 직교성을 높이려면 어떻게 해야 할까?

1. 코드 결합도 줄이기
2. 전역 데이터 피하기
3. 유사한 함수 피하기

2번 3번은 바로 와닿는데 코드 결합도를 줄이기 위해선 어떻게 해야 할까?

부끄럼타는 코드를 만들어야 한다. 불필요한 것들을 외부 모듈에 노출시키지 않고 자기 혼자 해결하려고 하는 코드를 작성하자. (표현이 재밌지 않나요 ㅎㅎ)

### 테스트

직교성이 높아지면 테스트도 수월해진다.

우리가 흔히 하는 단위 테스트는 각 모듈에 대한 테스트이기 때문에 직교성이 높아지면 자연스럽게 테스트도 쉬워진다.

반대로 단위 테스트를 해보며 코드가 직교성이 높은지 판단해 볼 수도 있을 것이다.

### 요약

의존성 낮추기

독립적으로 설계하기