## 중복의 해악

### DRY(Don't Repeat Yourself!)

유지보수는 출시가 아닌 개발 단계부터 시작된다.

유지보수를 하려면 애플리케이션에 들어 있는 지식의 캡슐들을 찾아내고 바꿔야 한다.

문제는 명세와 프로세스 그리고 프로그램 개발 중에 지식이 중복되기 쉽다는 점이다.

유지보수를 쉽게 하기 위해선 중복을 최대한 피해야 한다. 그렇지 않으면 똑같은 것들이 두 군데 이상에서 나타나게 될 것이다.

### 어떻게 중복이 생기는가?
- 강요된 중복 : 다른 선택지가 없다고 느끼는 경우, 환경이 중복을 요구하는 것처럼 보임
- 부주의한 중복 : 개발자들이 자신들이 중복을 발생시키는 것을 깨닫지 못함
- 참을성 없는 중복 : 중복을 발생시키는게 더 쉬워 보여서 그렇게 해버리는 경우
- 개발자간의 중복 : 같은 팀의 여러 사람들이 동일한 정보를 중복하는 경우

### 강요된 중복

프로젝트 표준이 중복된 정보가 기록되 문서를 요구하기도 하고 여러 플랫폼을 지원해야 해서 각각에 대해 작업을 하면서 중복이 발생하기도 한다.

피할 수 없을 것 같아 보이지만 분명 해소할 수 있는 방법이 있다.

- 코드 생성기를 통해 공동의 메타데이터를 다양한 양식으로 만들어낼 수 있다.
- 좋은 코드는 매번 주석을 작성하는 수고를 덜어준다.
- 문서와 코드는 동일 지식에 대한 표현이다. 문서를 수정했을 때 테스트 코드가 자동으로 바뀐다면?

### 부주의한 중복

중복은 설계 실수의 결과로 나타나기도 한다.

```
class Line {
    constructor({start, end, length}) {
        this.start = start;
        this.end = end;
        this.length = length;
    }
}
```

선을 클래스로 표현한 코드이다. 그럴싸해 보이지만 길이는 start나 end가 바뀔 때마다 변화한다. 따라서 길이는 계산되는 값으로 바꾸는게 더 좋다.

```
class Line {
    constructor({start, end, length}) {
        this.start = start;
        this.end = end;
    }

    getLength() {
        const length = this.end - this.start; // 대충 만든 식입니다..ㅎ
        return length;
    }
}
```

### 참을 수 없는 중복

'돌아가는 길이 지름길이다'라는 진부한 격언을 기억해야 할 때가 있다.

당장 이렇게 하는게 쉬워보이더라도 나중에 오히려 더 시간을 쏟아야 할 수도 있다.

참을성 없는 중복은 발견하기도 쉽고 다루기도 쉬운 형태의 중복이지만 이를 이겨낼 훈련이 필요하다.

참을성 없는 중복은 개발자의 게으름에서 생겨난다.

### 개발자간의 중복

발견하거나 다루기 가장 어려운 유형의 중복이다.

각자 다른 작업을 하다 보면 중복이 발생할 수도 있고 이런 중복은 오랜 시간 발견되지 않을 수도 있다.

이를 방지하기 위한 최선책은 개발자간에 적극적이고 빈번한 소통을 장려하는 것이다. (다시 한 번 등장하는 소통의 중요성!)

계속해서 서로의 지식을 교환해야 하며 서로의 소스코드를 들여다 봐야 한다.

또한 이러한 과정을 효율적으로 만들기 위해 재사용하기 쉬운 코드를 작성해야 한다.

### 요약

DRY! Don't Repeat Yourself!!